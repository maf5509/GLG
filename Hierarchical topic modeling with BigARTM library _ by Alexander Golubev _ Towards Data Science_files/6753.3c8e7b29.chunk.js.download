(self.webpackChunklite=self.webpackChunklite||[]).push([[6753],{66249:(t,e,n)=>{"use strict";n.d(e,{o0:()=>L,a3:()=>D,GD:()=>T});var r=n(28655),o=n.n(r),a=n(67154),i=n.n(a),s=n(6479),u=n.n(s),c=n(71439),l=n(67294),d=n(76532),E=n(62181),f=n(68421),I=n(42933),v=n(82318),_=n(73810),g=n(98024),p=n(6688),m=n(14391),N=n(71254),P=n(3257);function R(){var t=o()(["\n  fragment AddToCatalogBookmarkButton_post on Post {\n    ...AddToCatalogBase_post\n  }\n  ","\n"]);return R=function(){return t},t}function k(){var t=o()(["\n  fragment AddToCatalogBookmarkButton_bookEdition on BookEdition {\n    ...AddToCatalogBase_bookEdition\n  }\n  ","\n"]);return k=function(){return t},t}function L(t){var e=t.withCatalogsTooltip,n=void 0!==e&&e,r=u()(t,["withCatalogsTooltip"]),o=(0,d.H)({withUserReadingList:!0}),a=o.value,s=o.loading,c=(0,p.I)(),R=l.useCallback((function(t){return function(){var e,n,r,o,i=(null==a||null===(e=a.readingList)||void 0===e||null===(n=e.counts)||void 0===n?void 0:n.saved)>0,s=(null==a||null===(r=a.readingList)||void 0===r||null===(o=r.counts)||void 0===o?void 0:o.archived)>0,u=i||s?"You can now make lists to curate and share stories.":"Click to add this story to a list.";return l.createElement(I.x,{minWidth:"200px",padding:"16px"},l.createElement(g.F,{scale:"S"},l.createElement("p",{className:c({color:"#ffffff"})},u)),l.createElement(I.x,{marginTop:"8px"},l.createElement(g.F,{scale:"S"},l.createElement(v.r,{onClick:function(){return t(f.$S.DISMISSED)}},l.createElement("p",{className:c({color:"#ffffff",fontWeight:700})},"Got it")))))}}),[a]);return s?null:a?l.createElement(P.aR,i()({},r,{viewer:a}),(function(t){var e=t.onClick,r=t.bookmarkIcon,o=t.isPanelVisible;return l.createElement(f.oP,{flag:m.T3.STORIES_BOOKMARK_TOOLTIP,targetDistance:15,isVisible:n,darkTheme:!0,placement:"top",renderFn:R},l.createElement(_.P,{ariaControls:"addToCatalogBookmarkButton",ariaLabel:"Add to list bookmark button",ariaExpanded:o?"true":"false",onClick:e},r))})):l.createElement(E.R9,{operation:"register",susiEntry:"list"},l.createElement(N.Z,null))}var D=(0,c.Ps)(k(),P.Gm),T=(0,c.Ps)(R(),P._C)},86753:(t,e,n)=>{"use strict";n.d(e,{e:()=>w,z:()=>h});var r=n(63038),o=n.n(r),a=n(28655),i=n.n(a),s=n(71439),u=n(67294),c=n(66249),l=n(3021),d=n(53976),E=n(76532),f=n(62181),I=n(267),v=n(82318),_=n(33914),g=n(95760),p=n(51512),m=n(6688),N=n(14391),P=n(67297),R=n(71254),k=n(6106);function L(){return(L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var D=u.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13c.2.18.52.17.71-.03a.5.5 0 0 0 .12-.29H19V6z"});const T=function(t){return u.createElement("svg",L({width:25,height:25,viewBox:"0 0 25 25"},t),D)};var A=n(27952);function S(){var t=i()(["\n  fragment BookmarkButton_post on Post {\n    ...SusiClickable_post\n    ...WithSetReadingList_post\n    ...AddToCatalogBookmarkButton_post\n  }\n  ","\n  ","\n  ","\n"]);return S=function(){return t},t}var h=(0,s.Ps)(S(),f.qU,l.jy,c.GD),b=function(t){return{fill:t.baseColor.fill.light}},O=function(t){return{fill:t.baseColor.border.light,cursor:"default"}},C=function(){var t=(0,m.I)();return u.createElement(T,{className:t(O)})};function G(t){return{READING_LIST_NONE:"Bookmark Post",READING_LIST_ARCHIVE:"Archived",READING_LIST_QUEUE:"Remove Bookmark"}[t]}function w(t){var e=t.post,n=t.withReadingListTooltip,r=void 0===n||n,a=t.susiEntry,i=t.withCatalogsTooltip,s=void 0!==i&&i,L=e.id,D=e.viewerEdge.readingList,T=(0,m.I)(),S=(0,P.v9)((function(t){return t.config.authDomain})),h=(0,g.Av)(),O=(0,p.pK)(),w=(0,I.XC)(),U=(0,E.H)(),y=U.value,x=U.loading,B=(0,d.hd)({name:"enable_lists",placeholder:!1,experimentId:"ce7dbacf23aa"}),j=null==w?void 0:w.READING_LIST_UPDATED,V=u.useState(r),H=o()(V,2),Q=H[0],$=H[1],M=u.useState(D||N.sx.READING_LIST_NONE),W=o()(M,2),Z=W[0],F=W[1];u.useEffect((function(){F(D||N.sx.READING_LIST_NONE)}),[D]);var K=u.useCallback((function(){r&&$(!0)}),[r]);return x?null:y?B?u.createElement(c.o0,{kind:N.ej.POST,target:e,withCatalogsTooltip:s}):D?u.createElement("div",{className:T(b)},u.createElement(l.sN,{post:e},(function(t){return u.createElement(_._,{isVisible:Q,targetDistance:10,tooltipText:(n=D,{READING_LIST_NONE:"Save story",READING_LIST_ARCHIVE:"Archived",READING_LIST_QUEUE:"Unsave Story"}[n]),onMouseLeave:K},u.createElement(v.r,{onClick:function(){return function(t){if(D){var n=(o=D,{READING_LIST_NONE:N.sx.READING_LIST_QUEUE,READING_LIST_ARCHIVE:null,READING_LIST_QUEUE:N.sx.READING_LIST_NONE}[o]);if(!n)return;F(n),h.event(function(t){return{READING_LIST_NONE:"post.addedBookmark",READING_LIST_ARCHIVE:"post.addedArchive",READING_LIST_QUEUE:"post.removedBookmark"}[t]}(D),{postId:L,source:O}),t(n)().catch((function(){F(D)})),r&&$(!1),j&&j(e,n)}var o}(t)},ariaLabel:G(Z)},function(t){return{READING_LIST_NONE:u.createElement(R.Z,null),READING_LIST_ARCHIVE:u.createElement(C,null),READING_LIST_QUEUE:u.createElement(k.Z,null)}[t]}(Z)));var n}))):null:u.createElement(_._,{isVisible:Q,placement:"top",targetDistance:10,tooltipText:"Bookmark story"},u.createElement(f.R9,{post:e,operation:"register",actionUrl:(0,A.XET)(S,L),susiEntry:a},u.createElement(R.Z,{className:T(b)})))}},3021:(t,e,n)=>{"use strict";n.d(e,{jy:()=>P,sN:()=>R});var r=n(63038),o=n.n(r),a=n(28655),i=n.n(a),s=n(71439),u=n(46829),c=n(14391);function l(){var t=i()(["\n  fragment WithSetReadingList_post on Post {\n    ...ReadingList_post\n  }\n  ","\n"]);return l=function(){return t},t}function d(){var t=i()(["\n  mutation UnarchivePostDefault($targetPostId: ID!) {\n    unarchivePost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return d=function(){return t},t}function E(){var t=i()(["\n  mutation ArchivePostDefault($targetPostId: ID!) {\n    archivePost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return E=function(){return t},t}function f(){var t=i()(["\n  mutation UnbookmarkPostDefault($targetPostId: ID!) {\n    unbookmarkPost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return f=function(){return t},t}function I(){var t=i()(["\n  mutation BookmarkPostDefault($targetPostId: ID!) {\n    bookmarkPost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return I=function(){return t},t}function v(){var t=i()(["\n  fragment ReadingList_post on Post {\n    __typename\n    id\n    viewerEdge {\n      id\n      readingList\n    }\n  }\n"]);return v=function(){return t},t}var _=(0,s.Ps)(v()),g=(0,s.Ps)(I(),_),p=(0,s.Ps)(f(),_),m=(0,s.Ps)(E(),_),N=(0,s.Ps)(d(),_),P=(0,s.Ps)(l(),_),R=function(t){var e=t.children,n=t.post,r=n.id,a=function(t){var e=(0,u.useMutation)(g,{variables:{targetPostId:t},optimisticResponse:{bookmarkPost:{__typename:"Post",id:t,viewerEdge:{id:"test-post-viewer-edge-id",readingList:c.sx.READING_LIST_QUEUE}}}});return o()(e,1)[0]}(r),i=function(t){var e=(0,u.useMutation)(p,{variables:{targetPostId:t},optimisticResponse:{unbookmarkPost:{__typename:"Post",id:t,viewerEdge:{id:"test-post-viewer-edge-id",readingList:c.sx.READING_LIST_NONE}}}});return o()(e,1)[0]}(r),s=function(t){var e=(0,u.useMutation)(m,{variables:{targetPostId:t},optimisticResponse:{archivePost:{__typename:"Post",id:t,viewerEdge:{id:"test-post-viewer-edge-id",readingList:c.sx.READING_LIST_ARCHIVE}}}});return o()(e,1)[0]}(r),l=function(t){var e=(0,u.useMutation)(N,{variables:{targetPostId:t},optimisticResponse:{unarchivePost:{__typename:"Post",id:t,viewerEdge:{id:"test-post-viewer-edge-id",readingList:c.sx.READING_LIST_QUEUE}}}});return o()(e,1)[0]}(r);return r?e((function(t){return function(){switch(n.viewerEdge.readingList){case c.sx.READING_LIST_NONE:if("READING_LIST_QUEUE"===t)return a();break;case c.sx.READING_LIST_QUEUE:if("READING_LIST_NONE"===t)return i();if("READING_LIST_ARCHIVE"===t)return s();break;case c.sx.READING_LIST_ARCHIVE:if(!t)return r;if("READING_LIST_NONE"===t)return i();if("READING_LIST_QUEUE"===t)return l()}throw new Error('Invalid reading list change from "'.concat(n.viewerEdge.readingList||"unkown",'" to "').concat(t,'".'))}})):null}},267:(t,e,n)=>{"use strict";n.d(e,{XC:()=>c,EI:()=>l});var r=n(59713),o=n.n(r),a=n(67294);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u=a.createContext({}),c=function(){return a.useContext(u)},l=function(t){var e=t.context,n=t.extendContext,r=void 0!==n&&n,o=t.children,i=c();return r&&i&&(e=s(s({},i),e)),a.createElement(u.Provider,{value:e},o)}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/6753.3c8e7b29.chunk.js.map