(self.webpackChunklite=self.webpackChunklite||[]).push([[3507],{66443:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var r=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.47 9.95h17v-3h-17v3zm16 1h1a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-17a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h1v9a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-9zm-1 0h-13v9h13v-9z"}),i=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.47 12.45c0-.28.21-.5.48-.5h6.04c.27 0 .48.22.48.5 0 .27-.21.5-.48.5H9.95a.49.49 0 0 1-.48-.5z"});const c=function(e){return a.createElement("svg",o({width:25,height:25,viewBox:"0 1 25 25",fill:"#757575"},e),r,i)}},17298:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var r=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.48 7.45H3.46v10.13H16a.47.47 0 1 1 0 .94H3.46c-.54 0-.99-.42-.99-.94V7.45c0-.52.45-.93 1-.93h17c.55 0 1 .41 1 .93v5.57a.5.5 0 0 1-1 0V7.45zM5.47 10.02c0-.28.22-.5.5-.5h9.11a.5.5 0 1 1 0 1H5.97a.5.5 0 0 1-.5-.5zm.51 2.5a.5.5 0 0 0-.51.5c0 .27.23.5.51.5h5.98a.5.5 0 0 0 .51-.5.5.5 0 0 0-.51-.5H5.98zm12.52 3.02c.2-.2.5-.2.7 0l1.77 1.77 1.77-1.77a.5.5 0 1 1 .7.7l-1.76 1.78 1.76 1.76a.5.5 0 1 1-.7.71l-1.77-1.77-1.77 1.77a.5.5 0 0 1-.7-.7l1.76-1.77-1.76-1.77a.5.5 0 0 1 0-.7z"});const i=function(e){return a.createElement("svg",o({width:25,height:25,viewBox:"0 0 25 25",fill:"#757575"},e),r)}},50493:(e,t,n)=>{"use strict";n.d(t,{o5:()=>L,tA:()=>R,tE:()=>N});var a=n(28655),o=n.n(a),r=n(71439),i=n(67294),c=n(4743),l=n(51684),s=n(82318),d=n(98024),u=n(6688),p={INLINE:{padding:"8px 0",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},SIDEBAR:{padding:"8px 0",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"".concat(l.ZR,"px"),":hover":{width:"200px"}}};function m(e){var t=(0,u.I)();return i.createElement("li",{className:t({overflow:"hidden"})},i.createElement(d.F,{scale:"M",color:"DARKER"},i.createElement(s.r,{href:"#".concat(e.destination),onClick:function(t){t.preventDefault(),function(e){var t=document.getElementById(e);if(t){var n=t.offsetTop-56;window.scrollTo({left:0,top:n,behavior:"smooth"}),window.history.pushState({},"","#".concat(e))}}(e.destination)},disableSourceParam:!0,noFollow:!0,inline:!0},i.createElement("div",{className:t(p[e.mode]),title:e.text},e.text))))}var f=n(7654),h=n(42933),E=n(86021),v=n(77180),g=n(14391),I=n(67122),w=n(25885);function x(){var e=o()(["\n  fragment TableOfContents_post on Post {\n    id\n    collection {\n      id\n    }\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          id\n          name\n          type\n          text\n        }\n      }\n    }\n  }\n"]);return x=function(){return e},e}var R=(0,r.Ps)(x()),N=function(e){return!!(e.collection&&e.collection.id&&["3ec9f38ac0bd","3f6ecf56618","8d6b8a439e32"].includes(e.collection.id))||["8135e6744d59","21f0e9818b3a"].includes(e.id)},b={INLINE:{display:{xs:"block",sm:"block",md:"block",lg:"block",xl:"none"},marginTop:"35px"},SIDEBAR:{display:{xs:"none",sm:"none",md:"none",lg:"none",xl:"block"},margin:"50px 0",fontSize:"16px",":hover":{width:"200px"}}},L=function(e){var t=e.post,n=e.mode,a=e.heightRef,o=(0,u.I)(),r=(0,v.F)().backgroundColor,l=function(e){var t=(e||{content:{bodyModel:{paragraphs:null}}}).content.bodyModel.paragraphs;if(!t)throw new Error("Expected post to have paragraphs.");var n=(0,c.LI)(t),a=t.filter((function(e){return function(e){switch(e){case g.NJ.H1:case g.NJ.H2:case g.NJ.H3:return!0}return!1}(e.type)}));return null!==n.titleIndex&&a.splice(0,1),a.length>1?a:[]}(t);if(!N(t)||null==l||!l.length)return null;var s,d,p=i.createElement(h.x,{overflow:"hidden",marginTop:"16px"},i.createElement("ol",{className:o({marginTop:"5px"})},l.map((function(e){return i.createElement(m,{key:"toc_".concat(e.name),text:e.text||"",destination:e.name||"",mode:n})})))),x=(0,w.n2)(r),R=function(e){return"rgba(".concat(x[0],", ").concat(x[1],", ").concat(x[2],", ").concat(e,")")};switch(n){case"INLINE":var L=i.createElement(E.Lh,{scale:"M",color:"LIGHTER"},i.createElement("div",{className:o({marginRight:"7px"})},"Jump To Section"));return i.createElement("div",{className:o(b[n])},i.createElement(h.x,{borderBottom:"BASE_LIGHTER",paddingBottom:"10px"},i.createElement(f.$,{titleComponent:L,width:"auto",arrowFill:(0,I.Uy)(.54)},p)));case"SIDEBAR":return i.createElement("div",{className:o(b[n])},i.createElement(E.Lh,{scale:"S",color:"LIGHTER"},i.createElement("div",{className:o({whiteSpace:"nowrap"})},"Table of Contents")),i.createElement(h.x,{position:"relative"},i.createElement("div",{className:o((function(){return{background:"linear-gradient(".concat(R(1),",\n      ").concat(R(.5),",\n      ").concat(R(0),")"),width:"100%",height:"".concat(35,"px")}}))}),i.createElement("div",{className:o({overflowY:"scroll",scrollbarWidth:"none","-ms-overflow-style":"none","::-webkit-scrollbar":{display:"none"},height:(s=null!=a&&a.current?a.current.offsetHeight:0,d=Math.max("undefined"!=typeof window?window.innerHeight-s-106-100:150,150),"".concat(d,"px")),paddingBottom:"".concat(35,"px"),position:"relative",top:"-".concat(35,"px")})},p),i.createElement("div",{className:o((function(){return{background:"linear-gradient(".concat(R(0),",\n      ").concat(R(.5),",\n      ").concat(R(1),")"),position:"relative",width:"100%",height:"".concat(35,"px"),top:"-".concat(35,"px")}}))})));default:return null}}},47713:(e,t,n)=>{"use strict";n.d(t,{o:()=>y});var a=n(63038),o=n.n(a),r=n(67294),i=n(86753),c=n(9482),l=n(3021),s=n(53976),d=n(76532),u=n(62181),p=n(82318),m=n(33914),f=n(95760),h=n(51512),E=n(6688),v=n(14391),g=n(67297),I=n(71254),w=n(66443),x=n(17298),R=n(27952),N=function(e,t){return e&&{READING_LIST_QUEUE:"READING_LIST_ARCHIVE",READING_LIST_ARCHIVE:"READING_LIST_NONE"}[t]},b=function(e){return{fill:e.baseColor.fill.lighter}},L=function(e){var t=e.currentReadingListType,n=(0,E.I)();return{READING_LIST_QUEUE:r.createElement(w.Z,{className:n(b)}),READING_LIST_ARCHIVE:r.createElement(x.Z,{className:n(b)})}[t]},y=function(e){var t=e.post,n=e.withReadingListTooltip,a=void 0===n||n,w=e.susiEntry,x=e.withCatalogsTooltip,y=void 0!==x&&x,A=t.id,T=t.viewerEdge.readingList,_=(0,E.I)(),C=(0,g.v9)((function(e){return e.config.authDomain})),S=(0,f.Av)(),D=(0,h.pK)(),k=(0,d.H)(),H=k.value,G=k.loading,O=(0,s.hd)({name:"enable_lists",placeholder:!1,experimentId:"ce7dbacf23aa"}),B=r.useContext(c.Q),M=B.isFirstLoadAndInReadingList,U=B.setIsFirstLoadAndInReadingList,F=r.useState(a),z=o()(F,2),V=z[0],Q=z[1],Z=r.useCallback((function(e,t){if(T){if(S.event({READING_LIST_QUEUE:"post.addedArchive",READING_LIST_ARCHIVE:"post.removedBookmark"}[T],{postId:A,source:D}),t(N(e,T))(),N(e,T)===v.sx.READING_LIST_NONE)return void U(!1);a&&Q(!1)}}),[A,T,M,U,a,D]),j=r.useCallback((function(){a&&Q(!0)}),[a]);return G?null:H?O?r.createElement(i.e,{post:t,susiEntry:w,withCatalogsTooltip:y}):T?r.createElement("div",null,!M||T!==v.sx.READING_LIST_QUEUE&&T!==v.sx.READING_LIST_ARCHIVE?r.createElement(i.e,{post:t,susiEntry:w}):r.createElement(l.sN,{post:t},(function(e){return r.createElement(m._,{isVisible:V,targetDistance:10,tooltipText:(t=T,{READING_LIST_QUEUE:"Archive Story",READING_LIST_ARCHIVE:"Remove story from reading list"}[t]),onMouseLeave:j},r.createElement(p.r,{onClick:function(){return Z(H,e)}},r.createElement(L,{currentReadingListType:T})));var t}))):null:r.createElement("div",{className:_(b)},r.createElement(u.R9,{post:t,operation:"register",actionUrl:(0,R.XET)(C,A),susiEntry:w},r.createElement(I.Z,null)))}},9482:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o});var a={isFirstLoadAndInReadingList:!0,setIsFirstLoadAndInReadingList:function(){return null}},o=n(67294).createContext(a)},7654:(e,t,n)=>{"use strict";n.d(t,{$:()=>m});var a=n(63038),o=n.n(a),r=n(67294),i=n(42933),c=n(37278),l=n(6688),s=n(8403),d=n(73004),u=n(51064),p=300,m=function(e){var t,n=e.children,a=e.title,m=e.titleComponent,f=e.width,h=e.arrowFill,E=null===(t=(0,s.Wd)("unfold"))||void 0===t?void 0:t.toLowerCase(),v=!!a&&E===a.toLowerCase(),g=(0,l.I)(),I=(0,u.O)(!1),w=o()(I,4),x=w[0],R=w[3],N=function(e){var t=r.useRef(null),n=r.useState("0px"),a=o()(n,2),i=a[0],c=a[1],l=r.useState(!1),s=o()(l,2),d=s[0],u=s[1];return r.useEffect((function(){var n=t.current;n&&(e?(c("".concat(n.getBoundingClientRect().height,"px")),u(!0),setTimeout((function(){c("auto"),u(!1)}),p)):"auto"===i&&(c("".concat(n.getBoundingClientRect().height,"px")),u(!0),setTimeout((function(){return c("0px")}),50),setTimeout((function(){return u(!1)}),p)))}),[e]),{height:i,isAnimating:d,ref:t}}(x),b=N.ref,L=N.height,y=N.isAnimating;return r.useEffect((function(){v&&R()}),[]),r.createElement(r.Fragment,null,r.createElement("button",{className:g({width:f||"100%",height:"100%",border:"none",textAlign:"left",outline:"none",cursor:"pointer",padding:"0px"}),onClick:R,disabled:y},r.createElement(i.x,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},m||r.createElement(c.X6,{scale:"XS"},a||""),r.createElement(d.Z,{className:g((function(e){return{transition:"".concat(p,"ms transform"),transform:x?"rotate(180deg)":"rotate(0)",fill:h||e.baseColor.fill.normal}}))}))),r.createElement("div",{className:g({transition:"".concat(p,"ms height"),height:L,overflow:!x||y?"hidden":"visible",opacity:x?1:0})},r.createElement("div",{ref:b,className:g({opacity:x?1:0,transition:"".concat(p,"ms opacity"),display:"flex",justifyContent:"space-between",flexDirection:"column",flexFlow:"wrap"})},n)))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/3507.ae1ed59a.chunk.js.map