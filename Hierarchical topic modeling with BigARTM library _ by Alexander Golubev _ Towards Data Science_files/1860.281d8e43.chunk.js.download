(self.webpackChunklite=self.webpackChunklite||[]).push([[1860],{5928:(e,t,n)=>{"use strict";n.d(t,{D:()=>m,L:()=>p});var r=n(59713),i=n.n(r),o=n(67294),a=n(75341),l=n(67432),c=n(61250),s=n(2500);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(){var e=(0,a.g$)(),t=(0,c.uk)(),n=(0,s.B)(),r=(0,l.I)();return(0,o.useCallback)((function(i){var o;if(!e&&i.mediumUrl)return i.mediumUrl;var a=i.uniqueSlug||i.id;if(i.isSeries)return t("ShowSeries",{postId:a});if(null!==(o=i.sequence)&&void 0!==o&&o.slug)return t("ShowSequencePost",{sequenceSlug:i.sequence.slug,postId:a});if(i.collection){var l=n({id:i.collection.id,domain:i.collection.domain,slug:i.collection.slug});return"".concat(l,"/").concat(a)}if(i.creator){var c,s,u,m="customDomainState"in i.creator&&null!==(c=null===(s=i.creator.customDomainState)||void 0===s||null===(u=s.live)||void 0===u?void 0:u.domain)&&void 0!==c?c:null,p=r(d(d({},i.creator),{},{domain:m}));return"".concat(p,"/").concat(a)}return t("ShowPost",{postId:a})}),[e,t,n,r])},p=function(e){return m()(e)}},70450:(e,t,n)=>{"use strict";n.d(t,{Y4:()=>l,NJ:()=>c,lc:()=>s});var r=n(59713),i=n.n(r),o=n(90038);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){var t=e.miroId,n=e.originalWidth,r=e.originalHeight,i=e.focusPercentX,a=e.focusPercentY,l=e.croppedWidth;if(!t)return null;var c=(0,o.vz)({miroId:t,aspectRatio:16/9,croppedWidth:l,originalWidth:n,originalHeight:r,focusPercentX:i,focusPercentY:a}),s=(0,o.vz)({miroId:t,aspectRatio:4/3,croppedWidth:l,originalWidth:n,originalHeight:r,focusPercentX:i,focusPercentY:a}),u=(0,o.vz)({miroId:t,aspectRatio:1,croppedWidth:l,originalWidth:n,originalHeight:r,focusPercentX:i,focusPercentY:a}),d=new Set([c,s,u]);return Array.from(d)}function c(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({"@type":"ImageObject"},e)}function s(e){var t=e.id,n=e.originalWidth,r=e.originalHeight;if(!t||!n||!r)return null;var i=Math.min(r,60),a=i/r,l=Math.floor(n*a);return c({width:l,height:i,url:(0,o.W6)({miroId:t,width:l,freezeGifs:!0,strategy:o._S.Resample})})}},11389:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var r=n(68356),i=n.n(r),o=n(19725),a=i()({loader:function(){return Promise.resolve().then(n.bind(n,24902))},modules:["src/components/post/inline/ExpandablePost"],webpack:function(){return[24902]},loading:function(){return null},render:(0,o.n)("ExpandablePost")})},34793:(e,t,n)=>{"use strict";n.d(t,{$:()=>d,G:()=>m});var r=n(28655),i=n.n(r),o=n(71439),a=n(67294),l=n(12598),c=n(42933),s=n(90038);function u(){var e=i()(["\n  fragment SidebarProfilePic_user on User {\n    id\n    imageId\n  }\n"]);return u=function(){return e},e}var d=function(e){var t=e.user;return t.imageId?a.createElement(c.x,{marginBottom:"20px",maxHeight:"131px",maxWidth:"131px",overflow:"hidden"},a.createElement(l.E,{src:(0,s.W6)({miroId:t.imageId,width:131,height:131,strategy:s._S.Crop}),width:131})):null},m=(0,o.Ps)(u())},52788:(e,t,n)=>{"use strict";n.d(t,{T:()=>j,Q:()=>T});var r=n(28655),i=n.n(r),o=n(63038),a=n.n(o),l=n(71439),c=n(67294),s=n(76532),u=n(12291),d=n(77284),m=n(42933),p=n(55099),f=n(19464),g=n(80362),v=n(82318),h=n(37278),E=n(98024),y=n(85277),b=n(67122);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var P=c.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),w=c.createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),x=c.createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),I=c.createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"});const O=function(e){return c.createElement("svg",S({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),P,w,x,I)};var k=(0,u.$j)()((function(e){var t=e.dispatch,n=e.isVisible,r=e.hide,i="limitedStateInterstitialDialogPopover";return c.createElement(d.V,{isVisible:n,hide:r,withCloseButton:!1,customBackgroundColor:"rgba(255, 255, 255, 0.94)"},c.createElement(m.x,{display:"flex",justifyContent:"center",paddingTop:"100px"},c.createElement(m.x,{height:"550px",width:"900px",background:b.ix,borderRadius:"4px",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",boxShadow:"0 2px 10px ".concat((0,b.Uy)(.15)),paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},c.createElement(m.x,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},c.createElement(m.x,{paddingBottom:"24px"},c.createElement(O,null)),c.createElement(m.x,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},c.createElement(h.X6,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),c.createElement(m.x,{padding:"0 0 24px 0"},c.createElement(p.z,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){r(),t((0,y.Dx)({duration:"FOREVER",message:"",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),c.createElement(f.B,null,(function(e){var t=e.isVisible,n=e.toggle,r=e.hide;return c.createElement(g.J,{ariaId:i,isVisible:t,hide:r,display:"block",customZIndex:800,popoverRenderFn:function(){return c.createElement(m.x,{padding:"15px 20px",width:"400px"},c.createElement(E.F,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},c.createElement(m.x,{paddingTop:"10px"},c.createElement(v.r,{ariaControls:i,ariaExpanded:t?"true":"false",onClick:n},c.createElement("u",null,c.createElement(E.F,{scale:"S"},"Why am I seeing this?")))))})))),c.createElement(m.x,{display:"flex",justifyContent:"center"},c.createElement(E.F,{scale:"M"},"View our"," ",c.createElement(v.r,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",c.createElement(v.r,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",c.createElement(v.r,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))})),_=n(6688);function D(){var e=i()(["\n  fragment LimitedStateInterstitial_post on Post {\n    creator {\n      id\n    }\n    isLimitedState\n  }\n"]);return D=function(){return e},e}var A=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function j(e){var t=e.post,n=t.creator,r=t.isLimitedState,i=e.children,o=(0,s.H)().value,l=null==o?void 0:o.id,u=(0,_.I)(),d=c.useState(!1),m=a()(d,2),p=m[0],g=m[1];return c.useEffect((function(){g(!0)}),[]),r&&(n&&n.id)!==l?c.createElement(f.B,{initialVisibility:!0},(function(e){var t=e.isVisible,n=e.hide;return c.createElement(c.Fragment,null,c.createElement("div",{className:u(A(t))},i),p&&c.createElement(k,{isVisible:t,hide:n}))})):i}var T=(0,l.Ps)(D())},85714:(e,t,n)=>{"use strict";n.d(t,{Lv:()=>d,v:()=>m,QX:()=>p});var r=n(28655),i=n.n(r),o=n(71439),a=n(67294),l=n(12291),c=n(85277);function s(){var e=i()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return s=function(){return e},e}function u(){var e=i()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return u=function(){return e},e}var d=(0,l.$j)()((function(e){var t=e.dispatch,n=e.user,r=e.post;return a.useEffect((function(){n&&n.isSuspended?t((0,c.Dx)({duration:"NEXTPAGE",message:"",toastStyle:"USER_SUSPENDED"})):r&&r.isSuspended&&t((0,c.Dx)({duration:"NEXTPAGE",message:"",toastStyle:"POST_SUSPENDED",extraParams:{postId:(null==r?void 0:r.id)||""}}))}),[]),null})),m=(0,o.Ps)(u()),p=(0,o.Ps)(s())},94937:(e,t,n)=>{"use strict";n.d(t,{b:()=>O});var r=n(87757),i=n.n(r),o=n(48926),a=n.n(o),l=n(63038),c=n.n(l),s=n(67294),u=n(51562),d=n(76532),m=n(324),p=n(59317),f=n(4709),g=n(98281),v=n(42933),h=n(82318),E=n(98024),y=n(95760),b=n(51512),S=n(11348),P=n(8403),w=n(67297),x=n(6522),I="signin_confirmation_banner",O=function(){var e=(0,y.Av)(),t=(0,p.j)().openModal,n=s.useState(!1),r=c()(n,2),o=r[0],l=r[1],O=s.useState(!1),k=c()(O,2),_=k[0],D=k[1],A=s.useState(!0),j=c()(A,2),T=j[0],L=j[1],C=(0,d.H)().value,N=(0,w.p9)((function(e){return e.session.xsrf})),B=(0,P.PM)(),U=(0,b.P7)(B||"").name;return s.useEffect((function(){return l(!0)}),[]),s.useEffect((function(){o&&C&&(e.event("experiment.eligible",{experimentId:"b4152480e71c"}),function(){var e=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.vA)(null==C?void 0:C.id,N);case 2:t=e.sent,L(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),(0,S.oy)(C.id,N))}),[o,C]),s.useEffect((function(){_&&e.event("signInConfirmationBanner.viewed",{})}),[_]),!o||!C||!U||"login"!==U||!C.createdAt||Date.now()-C.createdAt<=5*x.uD||T?null:(_||D(!0),s.createElement(b.cW,{source:{susiEntry:I},extendSource:!0},s.createElement(m.N8,null,s.createElement(f.Y,{onClose:function(){return e.event("signInConfirmationBanner.dismissed",{})}},s.createElement(v.x,{display:"flex",alignItems:"center"},s.createElement(v.x,{display:"none",marginRight:"20px",sm:{display:"flex"}},s.createElement(g.Yt,{scale:"S",user:C})),s.createElement(E.F,{color:"DARKER",scale:"M"},s.createElement(u.W,{featureString:"confirm-sign-in-banner",target:"header",tag:"span"},"Welcome back. You are signed"," ",C.mediumMemberAt?"into your member account ":"in as ",s.createElement("b",null,C.email),"."," "),s.createElement(h.r,{onClick:function(){e.event("signInConfirmationBanner.notYouClicked",{}),t({operation:"login",step:"SIGNIN_OPTIONS",susiEntry:I})},linkStyle:"OBVIOUS"},"Not you?")))))))}},4709:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r=n(67294),i=n(28859),o=n(19464),a=n(42933),l=n(30027),c=n(3149),s=function(e){var t=e.children,n=e.onClose,s=r.useRef(null),u=r.useContext(i.u6).updateWatchedBounds;return r.createElement(o.B,{initialVisibility:!0},(function(e){var i=e.isVisible,o=e.hide;return i&&r.createElement(a.x,{backgroundColor:"BASE_LIGHT",borderBottom:"BASE_LIGHTER",borderTop:"BASE_LIGHTER"},r.createElement(l.P,null,r.createElement(a.x,{display:"flex",justifyContent:"space-between",paddingBottom:"20px",paddingTop:"20px"},t,r.createElement(c.P,{onClick:function(){n&&n(),u("byline",s,{type:"header"}),o()},isPositionAbsolute:!1,size:"REGULAR"}))))}))}},9710:(e,t,n)=>{"use strict";n.d(t,{gc:()=>zt,De:()=>Xt,m6:()=>$t});var r=n(28655),i=n.n(r),o=n(67154),a=n.n(o),l=n(59713),c=n.n(l),s=n(63038),u=n.n(s),d=n(71439),m=n(67294),p=n(12291),f=n(28859),g=n(68254),v=n.n(g);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=(0,p.$j)((function(e){return{googleAnalyticsCode:e.config.googleAnalyticsCode}}))((function(e){var t=e.googleAnalyticsCode,n=e.collectionGoogleAnalyticsId,r=n?{trackCollectionPageview:{on:"visible",request:"pageview",vars:{account:n}}}:{},i={triggers:E(E({},{trackPageview:{on:"visible",request:"pageview",vars:{account:t}}}),r)},o={__html:'<script type="application/json">'.concat(v()(i,{isJSON:!0}),"<\/script>")};return m.createElement("amp-analytics",{type:"googleanalytics",id:"google-analytics",dangerouslySetInnerHTML:o})})),b=n(17305),S=n(45113),P=n(9972),w=n(11334),x=n(94132),I=n(26463),O=n(62872),k=n(87508),_=n(46829),D=n(76532);function A(){var e=i()(["\n  mutation AddCollaboratorMutation($postId: ID!) {\n    addCollaborator(postId: $postId)\n  }\n"]);return A=function(){return e},e}function j(){var e=i()(["\n  fragment AddCollaborator_post on Post {\n    isPublished\n    id\n  }\n"]);return j=function(){return e},e}var T=(0,d.Ps)(j()),L=(0,d.Ps)(A()),C=n(47578),N=n(42963),B=n(73891),U=n(67297),R=n(27952);function F(){var e=i()(["\n  fragment MaybeRedirectToEditor_post on Post {\n    id\n    isPublished\n    collection {\n      id\n    }\n    creator {\n      id\n    }\n  }\n"]);return F=function(){return e},e}var M=function(e){var t=e.children,n=e.post,r=(0,U.v9)((function(e){return e.config.authDomain})),i=(0,D.H)().value,o=n.collection,a=n.creator&&i&&n.creator.id===i.id,l=(0,B.g)(null==o?void 0:o.id).viewerEdge;return!n.isPublished&&(!o&&a||a&&null!=l&&l.canEditOwnPosts||null!=l&&l.isEditor||null!=l&&l.canEditPosts)?m.createElement(N.l,{to:(0,R.d0A)(r,n.id)}):m.createElement(m.Fragment,null,t)},W=(0,d.Ps)(F()),H=n(66371),V=n(55253),Y=n(70405),G=n(319),z=n.n(G),q=n(82492),X=n.n(q),$=n(70450),J=n(90038),K=n(96879),Q=n(22744);function Z(){var e=i()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    seoTitle\n    mediumUrl\n    creator {\n      name\n      username\n      ...userUrl_user\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalWidth\n      originalHeight\n    }\n    isLocked\n    firstPublishedAt\n    updatedAt\n    isShortform\n    shortformType\n    structuredData\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n"]);return Z=function(){return e},e}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=(0,p.$j)((function(e){var t=e.config,n=t.productName,r=t.defaultImages,i=t.collectionStructuredData,o=e.navigation;return{currentLocation:o.currentLocation,host:o.host,productName:n,defaultImages:r,collectionStructuredData:i}}))((function(e){var t=e.currentLocation,n=e.host,r=e.post,i=e.postDescription,o=e.productName,a=e.defaultImages,l=e.collectionStructuredData,c=r.collection,s=r.creator,u=r.id,d=r.mediumUrl,p=r.isLocked,f=r.previewImage,g=r.firstPublishedAt,h=r.updatedAt,E=r.structuredData,y=(0,Q._t)(r,o),b={id:a.postLogo.imageId,originalWidth:a.postLogo.width,originalHeight:a.postLogo.height},S={id:a.orgLogo.imageId,originalWidth:a.orgLogo.width,originalHeight:a.orgLogo.height},P=c?{"@type":"Organization",name:c.name,url:c.domain||(0,K.l1)(n,(0,R.WGd)(c,t)),logo:function(e){if(!e||!e.logo||!e.logo.id)return(0,$.lc)(S);var t=(0,$.lc)(e.logo);return t&&60===t.height&&t.width<=600?t:(0,$.lc)(S)}(c)}:{"@type":"Organization",name:o,url:(0,K.l1)(n,"/"),logo:(0,$.lc)(S)};c&&l&&l[c.id]&&X()(P,l[c.id].data);var w=f&&f.id?(0,$.Y4)(te(te({},f),{},{miroId:f.id,croppedWidth:1200})):(0,$.NJ)({url:(0,J.W6)({miroId:b.id,width:b.originalWidth}),height:b.originalHeight,width:b.originalWidth}),x=i||"",I=p?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},O={"@context":"http://schema.org"},k=te({"@type":"NewsArticle",image:w,url:d,dateCreated:g&&new Date(g).toISOString(),datePublished:g&&new Date(g).toISOString(),dateModified:h&&new Date(h).toISOString(),headline:y,name:y,description:x,identifier:u,author:s&&s.name&&s.username?{"@type":"Person",name:s.name||s.username,url:(0,R.AWr)(s,n)}:null,creator:s&&[s.name],publisher:P,mainEntityOfPage:d},I),_=te(te({},O),k);if(E&&E.length>0)try{var D=JSON.parse(E);if(D&&null!=D&&D["@graph"]&&(null==D?void 0:D["@graph"].length)>0){var A=((null==D?void 0:D["@graph"])||[]).filter((function(e){return(null==e?void 0:e["@type"])&&"NewsArticle"!==(null==e?void 0:e["@type"])}));A&&A.length>0&&(_=te(te({},O),{},{"@graph":[k].concat(z()(A))}))}}catch(e){}return m.createElement(Y.q,null,m.createElement("script",{type:"application/ld+json"},v()(_,{isJSON:!0})))})),re=(0,d.Ps)(Z(),Q.bq,R.$mN),ie=n(27390),oe=n(71794);function ae(){var e=i()(["\n  fragment PostMetadata_post on Post {\n    id\n    socialTitle\n    socialDek\n    noIndex\n    curationStatus\n    canonicalUrl\n    mediumUrl\n    metaDescription\n    latestPublishedAt\n    visibility\n    isLimitedState\n    readingTime\n    creator {\n      name\n      twitterScreenName\n      ...userUrl_user\n    }\n    collection {\n      ampEnabled\n      twitterUsername\n      facebookPageId\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalHeight\n      originalWidth\n    }\n    isShortform\n    noIndex\n    curationStatus\n    ...PostJsonLd_post\n    ...postMetaDescription_post\n    ...shortformPostMetaDescription_post\n    ...shouldIndexPost_post\n    ...shortformPostTitle_post\n    ...getTitleDetails_post\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ae=function(){return e},e}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=(0,p.$j)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var t,n,r=e.isAmp,i=e.host,o=e.authDomain,a=e.productName,l=e.post,c=l.canonicalUrl,s=l.collection,u=l.creator,d=l.id,p=l.latestPublishedAt,f=l.mediumUrl,g=l.previewContent,v=l.socialTitle,h=l.socialDek,E=l.visibility,y=l.isShortform,b=s&&s.ampEnabled,S=u&&u.name,P=(0,Q.yB)(l),w=l.title||"",x=P.latestTitle||w;if(y){var I=ce(ce({},l),{},{title:x});t=(0,Q.oS)(I,a,P.hasTitleGraf).trim(),n=(0,oe.OO)(l,P.hasTitleGraf)}else t=(0,Q._t)(l,a,P,!0).trim(),n=(0,oe.j7)(l);var O,k,_=h||g&&g.subtitle||n;if(l&&l.previewImage&&l.previewImage.id&&!l.isLimitedState){var D=l.previewImage;O=(0,J.vz)({miroId:D.id,aspectRatio:1.9,croppedWidth:D.originalWidth?Math.min(D.originalWidth,1200):1200,originalWidth:D.originalWidth,originalHeight:D.originalHeight,focusPercentX:D.focusPercentX,focusPercentY:D.focusPercentY})}else if(l.isLimitedState){var A={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};O=(0,J.vz)({miroId:A.id,aspectRatio:1.9,croppedWidth:A.originalWidth?Math.min(A.originalWidth,1200):1200,originalWidth:A.originalWidth,originalHeight:A.originalHeight,focusPercentX:A.focusPercentX,focusPercentY:A.focusPercentY})}u&&u.username&&(k=(0,R.AWr)(u,o));var j=(0,R.CK_)(d),T=!(0,Q.c_)(l),L=p&&new Date(p).toISOString(),C=(0,ie.Vd)(l.readingTime||0),N=u&&u.twitterScreenName,B=s&&s.twitterUsername||"Medium",U=s&&s.facebookPageId,F=v||w||x;l.isLimitedState&&(F="");var M=l.isLimitedState?"":_,W=m.useMemo((function(){var e;return m.createElement(Y.q,{htmlAttributes:r?{amp:void 0}:{}},m.createElement("meta",{property:"og:type",content:"article"}),L&&m.createElement("meta",{property:"article:published_time",content:L}),b&&!r?m.createElement("link",{rel:"amphtml",href:(0,R.VcI)(i,d)}):null,m.createElement("title",null,t),m.createElement("meta",{name:"title",content:t}),m.createElement("meta",{property:"og:title",content:F}),m.createElement("meta",{property:"twitter:title",content:F}),U&&m.createElement("meta",{property:"fb:pages",content:U}),m.createElement("meta",{name:"twitter:site",content:"@".concat(B)}),m.createElement("meta",{name:"twitter:app:url:iphone",content:j}),m.createElement("meta",{property:"al:android:url",content:j}),m.createElement("meta",{property:"al:ios:url",content:j}),m.createElement("meta",{property:"al:android:app_name",content:"Medium"}),n&&m.createElement("meta",{name:"description",content:n}),_&&m.createElement("meta",{property:"og:description",content:M}),_&&m.createElement("meta",{property:"twitter:description",content:M}),m.createElement("meta",{property:"og:url",content:null!=f?f:void 0}),m.createElement("meta",{property:"al:web:url",content:null!=f?f:void 0}),O&&m.createElement("meta",{property:"og:image",content:O}),O&&m.createElement("meta",{name:"twitter:image:src",content:O}),m.createElement("meta",{name:"twitter:card",content:O?"summary_large_image":"summary"}),k&&m.createElement("meta",{property:"article:author",content:k}),k&&m.createElement("link",{rel:"author",href:k}),N&&m.createElement("meta",{name:"twitter:creator",content:"@".concat(N)}),S&&m.createElement("meta",{name:"author",content:S}),m.createElement("link",{rel:"canonical",href:null!==(e=c||f)&&void 0!==e?e:void 0}),m.createElement("link",{rel:"alternate",href:(0,R.zix)((0,R.o2w)("medium.com",l.id))}),m.createElement("meta",{name:"robots",content:"".concat(T?"noindex":"index",",follow,max-image-preview:large")}),m.createElement("meta",{name:"referrer",content:"UNLISTED"!==E?"unsafe-url":"origin"}),r?null:m.createElement("meta",{name:"twitter:label1",content:"Reading time"}),r?null:m.createElement("meta",{name:"twitter:data1",content:"".concat(C," min read")}))}),[r,t,c,f,O,b,d,v,n,k,S,N,j,T,L]);return m.createElement(m.Fragment,null,W,m.createElement(ne,{post:l,postDescription:n}))})),ue=(0,d.Ps)(ae(),re,oe.iI,oe.m3,Q.HF,Q.Pz,Q.dm,Q.bq,R.$mN),de=n(80439),me=n(89423),pe=n(1932),fe=n(32272),ge=n(42933),ve=n(82318),he=n(55099),Ee=n(77284),ye=n(3149),be=n(98024),Se=n(17614),Pe=n(27108),we=n(14391),xe=n(85277),Ie=n(8403),Oe=n(67122),ke=n(76579);function _e(){var e=i()(["\n  fragment PostPublishedDialog_prerequisite_post on Post {\n    id\n    creator {\n      id\n    }\n    collection {\n      id\n    }\n  }\n"]);return _e=function(){return e},e}function De(){var e=i()(["\n  query PostPublishedDialogQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...PostPublishedDialog_post\n    }\n  }\n  ","\n"]);return De=function(){return e},e}function Ae(){var e=i()(["\n  fragment PostPublishedDialog_post on Post {\n    id\n    inResponseToPostResult {\n      __typename\n    }\n    visibility\n    curationEligibleAt\n    mediumUrl\n    isNewsletter\n    isPublishToEmail\n    creator {\n      id\n    }\n    isMarkedPaywallOnly\n    ...SharePostButton_post\n  }\n  ","\n"]);return Ae=function(){return e},e}var je=function(){return m.createElement(ge.x,null,m.createElement(ve.r,{inline:!0,linkStyle:"OBVIOUS",href:(0,R.Scj)()},"Learn more")," ","about what happens to your post when you publish.")};var Te,Le=(0,d.Ps)(Ae(),fe.o),Ce=(0,d.Ps)(De(),Le),Ne=function(e){var t=e.url,n=e.label;return m.createElement(ke.b,{url:t},(function(e){return m.createElement(ge.x,{marginBottom:"8px"},m.createElement(he.z,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px",onClick:function(e){return e}},m.createElement(ge.x,{display:"flex",alignItems:"center",justifyContent:"center"},e?"Copied!":n)))}))},Be=function(e){var t=e.post,n=e.isUnlisted,r=e.postPath;return m.createElement(ge.x,{display:"flex",flexDirection:"column",alignItems:"center"},m.createElement(be.F,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),m.createElement(ge.x,{marginTop:"20px"},!n&&m.createElement(m.Fragment,null,m.createElement(ge.x,{marginBottom:"8px"},m.createElement(fe.f,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",post:t})),m.createElement(ge.x,{marginBottom:"8px"},m.createElement(fe.f,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",post:t})),m.createElement(ge.x,{marginBottom:"8px"},m.createElement(fe.f,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",post:t}))),m.createElement(Ne,{url:r,label:"Copy story link"})))},Ue=function(e){var t=e.viewerId,n=e.isVisible,r=e.hide,i=e.post,o=i.id,a=i.visibility,l=i.curationEligibleAt,c=i.mediumUrl,s=i.isNewsletter,u=i.isPublishToEmail,d=i.isMarkedPaywallOnly,p=i.creator,f=(0,pe.Tf)(i),g=f.viewerEdge,v=f.loading,h="UNLISTED"===a,E=!!l,y=(null==g?void 0:g.creatorPartnerProgramEnrollmentStatus)===we.iR.ENROLLED,b=null==g?void 0:g.shareKey,S=(0,U.v9)((function(e){return e.config.productName})),P="Your story is published!";return u&&t===(null==p?void 0:p.id)?P="Your story has been published and sent!":s&&(P="Your newsletter is on its way!"),v?null:m.createElement(Ee.V,{isVisible:n,hide:r,withAnimation:!0,withCloseButton:!1},m.createElement(ge.x,{background:Oe.ix,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,Oe.Uy)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},m.createElement(ge.x,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},m.createElement(ge.x,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},m.createElement(Se.F1,{scale:"L",tag:"h3"},P),m.createElement(ge.x,{maxWidth:"520px",marginTop:"20px"},m.createElement(be.F,{color:"DARKER",scale:"L"},function(e,t,n,r,i,o){return r?function(e,t){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(t,"."):m.createElement(m.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",t," readers’ homepages and Digest emails depending on their interests."," ",m.createElement(ve.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,o):e?"Your unlisted story will not appear publicly on ".concat(o,", but you can still share it."):i?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":n?t?m.createElement(m.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money. It will be part of ",o,"’s metered paywall.",m.createElement(je,null)):m.createElement(m.Fragment,null,"You did not choose to make this story eligible to earn money. It will not be part of"," ",o,"’s metered paywall.",m.createElement(je,null)):m.createElement(m.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",o," Partner Program."," ",m.createElement(ve.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(h,E,y,s,null!=d&&d,S))),m.createElement(ge.x,{paddingTop:"20px"},E&&!h&&c&&b&&m.createElement(Ne,{url:(0,K.Rk)((0,R.jVf)(i),{sk:b}),label:"Copy Friend Link"})),m.createElement(ge.x,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),o&&c&&m.createElement(Be,{post:i,isUnlisted:h,postPath:(0,R.jVf)(i)})),m.createElement(ye.P,{onClick:r,size:"LARGE"})))};!function(e){e.initial="initial",e.repub="repub"}(Te||(Te={}));var Re=function(e){var t,n=e.post,r=m.useState(!1),i=u()(r,2),o=i[0],a=i[1],l=m.useCallback((function(){return a(!1)}),[a]),c=(0,p.I0)(),s=(0,Ie.Wd)("postPublishedType"),d=(0,B.g)(null===(t=n.collection)||void 0===t?void 0:t.id).viewerEdge;m.useEffect((function(){switch(s){case Te.initial:a(!0);break;case Te.repub:c((0,xe.Dx)({duration:3e3,message:"Your changes have been published."}))}}),[s]);var f=m.useState(!1),g=u()(f,2),v=g[0],h=g[1];return v?m.createElement(me.I,null,(function(e){return null!=e&&e.id&&(e.id===(n.creator&&n.creator.id)||n.collection&&null!=d&&d.isEditor)?m.createElement(de.AE,{ssr:!1,query:Ce,variables:{postId:n.id}},(function(t){var n=t.loading,r=t.data,i=(r=void 0===r?{}:r).post;return n||!i||i.inResponseToPostResult?null:m.createElement(Ue,{isVisible:o,hide:l,post:i,viewerId:e.id})})):null})):(Pe.V6.on("load",(function(){return h(!0)})),null)},Fe=(0,d.Ps)(_e()),Me=n(49925),We=n(10103),He=n(59877);function Ve(){var e=i()(["\n  fragment PostScreenThemeProvider_post on Post {\n    collection {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    creator {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    customStyleSheet {\n      ...CustomThemeProvider_customStyleSheet\n    }\n  }\n  ","\n  ","\n  ","\n"]);return Ve=function(){return e},e}var Ye=function(e){var t=e.children,n=e.post,r=n.collection||n.creator,i=(0,Me.GT)(r),o=n.customStyleSheet;return i?m.createElement(We.G8,{customStyleSheet:o,publisher:r},t):m.createElement(We.G8,{customStyleSheet:null,publisher:r},m.createElement(He.r,null,t))},Ge=(0,d.Ps)(Ve(),We.Kc,We.Ps,Me.C5),ze=n(62182),qe=n(50493),Xe=n(15789),$e=n(9482),Je=n(44715),Ke=n(50188),Qe=n(57317),Ze=n(55127),et=n(56365),tt=n(6688),nt=function(e){var t=e.children,n=e.rule,r=(0,tt.I)(),i=n?r(n):"";return i?m.createElement("div",{className:i},t):m.createElement(m.Fragment,null,t)},rt=n(85489),it=n(74908),ot=n(47552),at=n(36511);function lt(){var e=i()(["\n  query TopicViewerEdge($topicId: ID!) {\n    topic(id: $topicId) {\n      ... on Topic {\n        id\n        viewerEdge {\n          id\n          isFollowing\n        }\n      }\n    }\n  }\n"]);return lt=function(){return e},e}var ct=(0,d.Ps)(lt()),st=n(32589),ut=n(52788),dt=n(85714),mt=n(51562),pt=n(324),ft=n(37258),gt=n(19608),vt=n(27168),ht=n(48881),Et=n(59317),yt=n(4709),bt=n(98281),St=n(95760),Pt=n(51512),wt=n(33572),xt=n(81591),It=n(69332),Ot="alternate_user_top_banner",kt=function(e){var t=e.userSocialLogins,n=(0,Et.j)().openModal;return t.facebook||t.google||t.twitter?m.createElement(gt.r,{userSocialLogins:t}):m.createElement(ft.o,{onSuccess:function(){return n({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:Ot})},userId:t.userId},(function(e){var t=e.handleSubmit;return m.createElement(he.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")}))},_t=function(){var e=(0,D.H)().value,t=(0,at.r)().viewerId,n=(0,p.I0)(),r=(0,St.Av)(),i=m.useState(!1),o=u()(i,2),a=o[0],l=o[1],c=m.useState("loading"),s=u()(c,2),d=s[0],f=s[1];return m.useEffect((function(){n((0,It.e6)(!0)),l(!0)}),[]),m.useEffect((function(){"rendered"===d&&n((0,xt.T)(!0)),"not_eligible"===d&&n((0,It.e6)(!1))}),[d]),m.createElement(Pt.cW,{source:{susiEntry:Ot}},m.createElement(ht.o,{postRenderCallback:function(e,n,i){f(n?"rendered":"not_eligible"),n&&(r.event("experiment.eligible",{experimentId:"358323e239a2"}),r.event("alternateUserBanner.viewed",{alternateUserSuggestionAccountType:(0,wt.S)(i),alternateUserSuggestionTargetUserId:i.userId,alternateUserSuggestionSourceUserId:t}))}},(function(n){var i,o=n.showSuggestedAccount,l=n.declineSuggestedAccount,c=n.userSocialLogins;return a&&o&&l&&c?m.createElement(pt.N8,null,m.createElement(yt.Y,{onClose:function(){return r.event("alternateUserBanner.dismissed",{alternateUserSuggestionAccountType:(0,wt.S)(c),alternateUserSuggestionTargetUserId:c.userId,alternateUserSuggestionSourceUserId:t})}},m.createElement(ge.x,{alignItems:"flex-start",display:"flex",flexDirection:"column",sm:{alignItems:"center"}},m.createElement(ge.x,{alignItems:"center",display:"flex",marginBottom:"21px",sm:{flexDirection:"column",margin:"0 21px 21px",textAlign:"center"}},!e&&(null===(i=c.userAvatar)||void 0===i?void 0:i.imageId)&&m.createElement(ge.x,{display:"flex",marginRight:"20px",sm:{marginBottom:"18px",marginRight:"0"}},m.createElement(bt.Yt,{scale:"S",user:{__typename:"User",id:c.userId,name:c.userAvatar.name,username:c.userAvatar.username,imageId:c.userAvatar.imageId,mediumMemberAt:c.userAvatar.mediumMemberAt,customDomainState:null,hasSubdomain:!1}})),m.createElement(mt.W,{featureString:"alternate-user-top-banner",target:"header"},m.createElement(be.F,{color:"DARKER",scale:"M"},function(e,t){var n=t.isMember,r=t.redactedEmailAddress;return m.createElement(m.Fragment,null,e?"Switch":"Sign in"," to your ",n?"member ":"","account (",m.createElement("b",null,r),") for",n?" unlimited access":" your personalized experience",".")}(e,c)))),m.createElement(ge.x,{alignItems:"center",display:"flex",sm:{flexDirection:"column"}},m.createElement(kt,{userSocialLogins:c}),m.createElement(ge.x,{margin:"0 12px",sm:{margin:"24px 0 0"}},m.createElement(vt.G,{declineSuggestedAccount:l,isSocial:!!(c.facebook||c.google||c.twitter)})))))):m.createElement(m.Fragment,null)})))},Dt=n(94937),At=n(93874),jt=n(66210),Tt=n(58491),Lt=n(11348),Ct=n(31517),Nt=n(172);function Bt(e){var t={__html:'<script type="application/json">'.concat(v()(e.json,{isJSON:!0}),"<\/script>")};return m.createElement("amp-analytics",{id:"medium-analytics",dangerouslySetInnerHTML:t})}var Ut=n(30389),Rt=n(34019),Ft=n(27140),Mt=n(65441);function Wt(){var e=i()(["\n  fragment PostScreen_post on Post {\n    id\n    canonicalUrl\n    collection {\n      id\n      domain\n      googleAnalyticsId\n      slug\n      ...CollectionMetabar_collection\n      ...MetaHeader_publisher\n      ...auroraHooks_publisher\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      validatedShareKey\n    }\n    creator {\n      customStyleSheet {\n        id\n        ...PostSidebar_customStyleSheet\n      }\n      ...SuspendedBannerLoader_user\n      ...MetaHeader_publisher\n      ...UserSubdomainFlow_user\n      ...auroraHooks_publisher\n      ...TruncatedPostCard_user\n    }\n    customStyleSheet {\n      id\n      postBody {\n        ...SupportedContainerStyles_styleNode\n      }\n      ...CustomBackgroundWrapper_customStyleSheet\n      ...MetaHeader_customStyleSheet\n      ...PostSidebar_customStyleSheet\n    }\n    firstPublishedAt\n    isLocked\n    isPublished\n    isShortform\n    layerCake\n    primaryTopic {\n      name\n      slug\n    }\n    title\n    isMarkedPaywallOnly\n    ...AddCollaborator_post\n    ...InteractivePostBody_post\n    ...LimitedStateInterstitial_post\n    ...MaybeRedirectToEditor_post\n    ...Metabar_post\n    ...Wall_post\n    ...PostBodyInserts_post\n    ...PostFooter_post\n    ...PostHeader_post\n    ...PostMetadata_post\n    ...PostPublishedDialog_prerequisite_post\n    ...PostReadTracker_post\n    ...PostScreenThemeProvider_post\n    ...PostScrollTracker_post\n    ...PostSidebar_post\n    ...SuspendedBannerLoader_post\n    ...buildBranchViewData_post\n    ...optimizelyData_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Wt=function(){return e},e}function Ht(){var e=i()(["\n  fragment PostScreen_meteringInfo on MeteringInfo {\n    __typename\n    postIds\n    maxUnlockCount\n    unlocksRemaining\n    ...PostHeader_meteringInfo\n    ...Wall_meteringInfo\n    ...buildBranchViewData_meteringInfo\n  }\n  ","\n  ","\n  ","\n"]);return Ht=function(){return e},e}function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gt=function(){return null};function zt(e){var t,n,r,i,o,a,l,c,s,d=e.meteringInfo,g=e.post,v=g.id,h=g.isPublished,E=g.isLocked,P=g.isShortform,w=g.content,I=g.collection,O=g.canonicalUrl,A=(0,p.I0)(),j=(0,St.Av)(),T=(0,Ie.PM)(),N=(0,U.v9)((function(e){return e.config.authDomain})),F=(0,U.v9)((function(e){return e.navigation.currentHash})),W=(0,U.p9)((function(e){return e.config.isAmp})),Y=(0,U.v9)((function(e){return e.navigation.referrer})),G=(0,Ut.P)(),z=G.inAppBrowser,q=G.loading,X=(0,pe.Tf)(g),$=X.viewerEdge,J=X.loading,K=(0,st.P)(null===(t=g.creator)||void 0===t?void 0:t.id),Q=K.viewerEdge,Z=K.loading,ee=(0,B.g)(null===(n=g.collection)||void 0===n?void 0:n.id),te=ee.viewerEdge,ne=ee.loading,re=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,_.useQuery)(ct,{variables:{topicId:t},ssr:!1,skip:!t}),r=n.loading,i=n.error,o=n.data;return r?{loading:r}:i?{error:i}:{viewerEdge:null==o||null===(e=o.topic)||void 0===e?void 0:e.viewerEdge}}(null===(r=g.primaryTopic)||void 0===r?void 0:r.id),ie=re.viewerEdge,oe=re.loading,ae=J||ne||Z||oe,le=m.useState((null==$?void 0:$.readingList)===we.sx.READING_LIST_QUEUE||(null==$?void 0:$.readingList)===we.sx.READING_LIST_ARCHIVE),ce=u()(le,2),ue=ce[0],de=ce[1],me=m.useRef(null),fe=(0,D.H)().value;W&&(fe=void 0);var ge=!!fe,ve=I||{},he=ve.id,Ee=ve.slug,ye=ve.googleAnalyticsId,be=w||{},Se=be.isLockedPreviewOnly,Pe=be.validatedShareKey,xe=ye?[ye]:null;(0,b.t)({ids:xe,isAmp:W}),(0,jt.V)(me,g),(0,Tt.t)(ge,me,g),function(e){var t=(0,D.H)().value,n=(0,_.useMutation)(L,{variables:{postId:e.id}}),r=u()(n,2),i=r[0],o=r[1].called;m.useEffect((function(){e.isPublished||null==t||!t.id||o||i()}),[t])}(g);var Oe=(0,Me.GT)(I||g.creator),ke=P&&Oe,_e=(0,Ft.D)(Oe),De=(0,Pt.P7)(T||"").dimension,Ae=!("digest.reader"!==(void 0===De?"":De))&&!Se&&ge&&!(null!=Q&&Q.isUser)&&!(null!=Q&&Q.isFollowing)&&((null==Q?void 0:Q.readPostsCount)||0)>=3,je=m.useState(Ae),Te=u()(je,2),Le=Te[0],Ce=Te[1];m.useEffect((function(){Ce(Ae)}),[]);var Ne=(0,H.Dj)(g,{shouldInsertCreatorPromo:Le,withCatalogsTooltip:!0}),Be=(0,at.r)(),Ue=Be.loading,Fe=Be.viewerId;m.useEffect((function(){if(!Ue&&Fe&&!q&&!ae){if(h){ge||(g.isLocked?(0,Lt.yB)():(0,Lt.B8)());var e=(0,S.RD)({inAppBrowser:z,post:g,meteringInfo:d,referrer:Y,referrerSource:T,viewer:fe,currentUserId:Fe,creatorViewerEdge:Q,collectionViewerEdge:te,topicViewerEdge:ie});I&&I.domain&&(e.data.$canonical_url=(0,R.o2w)(N,g.id));var t=fe&&fe.name?(0,wt.J)(fe.name):void 0;(0,C.KQ)({post:g},t),(0,S.Pu)(e),A((0,Nt.aj)(e)),A((0,Nt.QZ)()),j.event("post.clientViewed",{postId:v,collectionId:he,collectionSlug:Ee,context:1,isFriendLink:!!Pe})}else j.event("post.draftViewed",{postId:v});return ge||(0,Ke.kD)(v),function(){A((0,Nt.Uo)())}}}),[v,h,Ue,Fe,q,z,fe,ae]),m.useEffect((function(){j.event("experiment.eligible",{experimentId:"bf31c326fe09"})}),[]);var We=m.useCallback((function(){Array.from(document.getElementsByTagName("iframe")).forEach((function(e){null!=e&&e.contentWindow&&e.contentWindow.postMessage(JSON.stringify({context:"medium.customStyleSheet",customStyleSheet:g.customStyleSheet}),"*")}))}),[g.customStyleSheet]);(0,Rt.r)("medium.getCustomStyleSheet",We);var He=(0,Ie.Wd)("readmore");m.useEffect((function(){var e;if(He){var t=document.getElementById(Mt.W);if(t){var n=window.matchMedia&&(null===(e=window.matchMedia("(prefers-reduced-motion: reduce)"))||void 0===e?void 0:e.matches);setTimeout((function(){var e=Math.max(t.offsetTop-window.innerHeight/2,0);window.scrollY<=e&&window.scrollTo({top:e,behavior:n?void 0:"smooth"})}))}}}),[He]),_e!==Oe&&A((0,Ct.t)(Oe));var Ve,Ge,qe=E?{className:"meteredContent"}:{};if(F){var Qe=F.split("-");Ve=Qe[0],Ge=Qe[1]}var Ze,tt=I&&g.customStyleSheet&&null!=g&&null!==(i=g.creator)&&void 0!==i&&null!==(o=i.customStyleSheet)&&void 0!==o&&o.blogroll?Yt(Yt({},g.customStyleSheet),{},{blogroll:null==g||null===(a=g.creator)||void 0===a||null===(l=a.customStyleSheet)||void 0===l?void 0:l.blogroll}):g.customStyleSheet;return m.createElement(m.Fragment,null,m.createElement(M,{post:g},m.createElement(se,{isAmp:W,post:g}),(null===(c=fe)||void 0===c?void 0:c.id)===(null===(s=g.creator)||void 0===s?void 0:s.id)?m.createElement(dt.Lv,{post:g,user:g.creator}):m.createElement(ot.b,{name:"can_view_suspended_content",placeholder:Gt},(function(e){return e?m.createElement(dt.Lv,{post:g,user:g.creator}):null})),m.createElement(Ye,{post:g},m.createElement(et.f,{customStyleSheet:g.customStyleSheet},m.createElement(qt,{post:g}),m.createElement(it.k,{post:g},m.createElement(nt,{rule:(Ze=g.customStyleSheet,(0,rt.fl)(null==Ze?void 0:Ze.postBody))},m.createElement(f.Am,null,m.createElement($e.Q.Provider,{value:{isFirstLoadAndInReadingList:ue,setIsFirstLoadAndInReadingList:de}},m.createElement(_t,null),m.createElement(Dt.b,null),m.createElement("article",qe,m.createElement(V.mV,{post:g,meteringInfo:d}),m.createElement(ut.T,{post:g},m.createElement(Xe.bl,{activeGrafId:Ve,activeNoteId:Ge,isAuroraPostPageEnabled:Oe,post:g,postBodyInserts:Ne,ref:me}))),!Se&&!!h&&!ke&&m.createElement(ze.PostSidebar,{customStyleSheet:tt,post:g,extraWide:!0}),m.createElement(k.cu,{post:g,meteringInfo:d}),!Se&&m.createElement(Je.zX,{post:g,withCatalogsTooltip:!0}))))),m.createElement(Re,{post:g}),!!h&&m.createElement(x.T,{slimFooter:Oe}))),W&&m.createElement(m.Fragment,null,m.createElement(Bt,{json:{requests:{base:(0,R.vuB)(N),pageview:(0,R.CXS)(),scrollPing:(0,R.y4K)()},vars:{postId:v,collectionId:he,canonicalUrl:O,referrer:Y},triggers:{defaultPageview:{on:"visible",request:"pageview"},scrollDepths:{on:"scroll",scrollSpec:{verticalBoundaries:[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100]},request:"scrollPing"}},transport:{beacon:!1,xhrpost:!1,image:!0}}}),m.createElement(y,{collectionGoogleAnalyticsId:ye}))),!!g.creator&&!g.collection&&m.createElement(At.h,{user:g.creator,refreshOnComplete:!0}))}var qt=function(e){var t,n,r=e.post,i=r.collection,o=r.content,l=i||r.creator,c=(0,Me.GT)(l),s=(0,U.p9)((function(e){return e.config.isAmp})),u=o.bodyModel&&o.bodyModel.paragraphs[0],d=u&&u.type===we.NJ.IMG&&u.layout===we.ms.FULL_WIDTH;if(l&&c)return m.createElement(ge.x,{marginBottom:d?"0":"36px",sm:{marginBottom:d?"0":"20px"}},m.createElement(Qe.Go,{publisher:l,customStyleSheet:r.customStyleSheet,post:r,forceSmall:!0}),m.createElement(Ze.z,{headerScale:null===(t=r.customStyleSheet)||void 0===t||null===(n=t.header)||void 0===n?void 0:n.headerScale,post:r,publisher:l}));var p={behavior:O.W.Aggressive,isAmp:s,isFixed:!1,post:r};if(i)return m.createElement(P.NL,a()({},p,{collection:i}));var f=r.layerCake,g=r.primaryTopic,v=f&&(1===f||2===f||3===f),h=v?g:null;return m.createElement(I.kw,a()({},p,{isMonogramOnly:!v,marginBottom:0,marginBottomSm:0,topic:h}))},Xt=(0,d.Ps)(Ht(),V.Xc,k.Y6,S.PI),$t=(0,d.Ps)(Wt(),T,P.JE,et.w,Xe.Uw,ut.Q,W,I.v7,Qe.aU,Qe.Mv,ze.PostSidebar_customStyleSheet,k.rU,H.Cs,Je.F9,V.Z3,ue,Fe,Tt.W,Ge,jt.k,ze.PostSidebar_post,rt._3,dt.QX,dt.v,At.k,Me.C5,S.ir,C.ne,qe.tA,w.Dc)},34019:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});var r=n(67294),i=function(e,t){r.useEffect((function(){if("undefined"!=typeof window){var n=function(n){if(n.data){var r,i;try{i=JSON.parse(n.data)}catch(e){}(null===(r=i)||void 0===r?void 0:r.context)===e&&t(i)}};return window.addEventListener("message",n),function(){window.removeEventListener("message",n)}}}),[t,e])}},9196:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostUrl_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"creator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"customDomainState"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"live"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"domain"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasSubdomain"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"domain"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isSeries"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mediumUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sequence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"uniqueSlug"},arguments:[],directives:[]}]}}],loc:{start:0,end:269}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var r=e.type;"NamedType"===r.kind&&t.add(r.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}t.loc.source={body:"fragment usePostUrl_post on Post {\n  id\n  creator {\n    id\n    customDomainState {\n      live {\n        domain\n      }\n    }\n    hasSubdomain\n    username\n  }\n  collection {\n    id\n    domain\n    slug\n  }\n  isSeries\n  mediumUrl\n  sequence {\n    slug\n  }\n  uniqueSlug\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),r[e.name.value]=t}})),e.exports=t,e.exports.usePostUrl_post=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=r[t]||new Set,a=new Set,l=new Set;for(o.forEach((function(e){l.add(e)}));l.size>0;){var c=l;l=new Set,c.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){l.add(e)})))}))}return a.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(t,"usePostUrl_post")}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/1860.281d8e43.chunk.js.map