(self.webpackChunklite=self.webpackChunklite||[]).push([[4586],{42711:(e,t,n)=>{"use strict";n.d(t,{$:()=>f});var r=n(59713),o=n.n(r),l=n(23450),i=n.n(l),a=n(67294),s=n(71542),u=n(82318),c=n(98024),p=n(6688),d=n(27390);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=e.showVoters,n=e.shouldShowResponsiveLabelText,r=e.shouldHideClapsText,o=e.hasLabel,l=e.label,v=e.clapCount,f=e.showFullNumber,g=(0,p.I)(),h=f?(0,d.rR)(v):(0,d.pY)(v),b=o&&!r?i()("clap",v):"";return a.createElement("div",{className:g(m(m({},n||o?{position:"relative",top:"1px"}:{}),{},{"& button":{textAlign:"left"}}))},a.createElement(c.F,{color:n||o||r?"DARKER":"LIGHTER",scale:"M"},n?a.createElement(a.Fragment,null,t?a.createElement(u.r,{onClick:t},h,a.createElement(s.s,null,"Â ",b)):h,a.createElement(s.s,null,l)):a.createElement(a.Fragment,null,t?a.createElement(u.r,{onClick:t},h," ",b):h,l)))}},12237:(e,t,n)=>{"use strict";n.d(t,{x:()=>m});var r=n(87757),o=n.n(r),l=n(48926),i=n.n(l),a=n(63038),s=n.n(a),u=n(67294),c=n(77284),p=n(42933),d=n(55099),v=n(37278),m=function(e){var t=e.isVisible,n=e.hide,r=e.voters,l=e.fetchMore,a=e.voterCount,m=e.title,f=e.clapCount,g=u.useState(!1),h=s()(g,2),b=h[0],C=h[1],w=u.useCallback(i()(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l||b){e.next=8;break}return C(!0),e.prev=2,e.next=5,l();case 5:return e.prev=5,C(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),[l,b,C]);return u.createElement(c.V,{isVisible:t,hide:n,withAnimation:!0},u.createElement(p.x,{maxWidth:"550px",sm:{paddingTop:"0"},paddingTop:"88px"},u.createElement(p.x,{display:"flex",flexDirection:"column",marginBottom:"24px",textAlign:"center"},u.createElement(v.X6,{scale:"S"},f," claps from ",a," ",1===a?"person":"people",' for "',m,'"')),r,l&&u.createElement(p.x,{display:"flex",flexDirection:"column",margin:"24px",alignItems:"center"},u.createElement(d.z,{buttonStyle:"SOCIAL",size:"SMALL",onClick:w},"Show more claps"))))}},965:(e,t,n)=>{"use strict";n.d(t,{JP:()=>b,CP:()=>E});var r=n(59713),o=n.n(r),l=n(63038),i=n.n(l),a=n(28655),s=n.n(a),u=n(71439),c=n(46829),p=n(67294),d=n(58006);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(){var e=s()(["\n  mutation ClapMutation($targetPostId: ID!, $userId: ID!, $numClaps: Int!) {\n    clap(targetPostId: $targetPostId, userId: $userId, numClaps: $numClaps) {\n      viewerEdge {\n        ...ClapMutation_viewerEdge\n      }\n      ...ClapMutation_post\n    }\n  }\n  ","\n  ","\n"]);return f=function(){return e},e}function g(){var e=s()(["\n  fragment ClapMutation_viewerEdge on PostViewerEdge {\n    id\n    clapCount\n  }\n"]);return g=function(){return e},e}function h(){var e=s()(["\n  fragment ClapMutation_post on Post {\n    __typename\n    id\n    clapCount\n    ...MultiVoteCount_post\n  }\n  ","\n"]);return h=function(){return e},e}var b=(0,u.Ps)(h(),d.U),C=(0,u.Ps)(g()),w=(0,u.Ps)(f(),b,C),E=function(){var e=(0,c.useMutation)(w),t=i()(e,1)[0];return(0,p.useCallback)((function(e,n,r,o){return t({variables:{targetPostId:e.id,userId:n,numClaps:r},optimisticResponse:{clap:m(m({__typename:"Post"},e),{},{clapCount:e.clapCount+r,viewerEdge:{id:"post:".concat(e.id,"-viewer:").concat(n),clapCount:r}})},update:function(t,n){var l,i=null==n||null===(l=n.data)||void 0===l?void 0:l.clap;if(i){var a=t.readFragment({id:"Post:".concat(i.id),fragment:b,fragmentName:"ClapMutation_post"});t.writeFragment({id:"Post:".concat(i.id),fragment:b,fragmentName:"ClapMutation_post",data:m(m({},a),{},{clapCount:e.clapCount+r,viewerClapCount:((null==o?void 0:o.clapCount)||0)+r})})}}})}),[])}},58006:(e,t,n)=>{"use strict";n.d(t,{_:()=>L,U:()=>F});var r=n(28655),o=n.n(r),l=n(71439),i=n(67294),a=n(42711),s=n(319),u=n.n(s),c=n(82492),p=n.n(c),d=n(80439),v=n(12237),m=n(23025),f=n(31001),g=n(85677);function h(){var e=o()(["\n  query PostVotersDialogQuery($postId: ID!, $pagingOptions: PagingOptions) {\n    post(id: $postId) {\n      id\n      title\n      clapCount\n      voterCount\n      voters(paging: $pagingOptions) {\n        items {\n          user {\n            id\n            ...UserFollowButton_user\n            ...Voter_user\n          }\n          clapCount\n        }\n        pagingInfo {\n          next {\n            page\n          }\n        }\n      }\n      ...UserFollowButton_post\n    }\n  }\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}var b=function(e){var t=e.post,n=e.hide,r=e.isVisible,o=e.fetchMore;if(!t)return null;var l=t.title,a=t.voters,s=t.clapCount,u=t.voterCount;return i.createElement(v.x,{isVisible:r,fetchMore:o,hide:n,title:l,clapCount:s,voterCount:u,voters:a?a.items.map((function(e){var n=e.user,r=e.clapCount;return n&&i.createElement(m.a,{user:n,clapCount:r,key:n.id,followButton:i.createElement(f.Bv,{buttonSize:"SMALL",post:t,user:n,susiEntry:"follow_list"})})})):null})};function C(e){var t=e.postId,n=e.isVisible,r=e.hide;return n?i.createElement(d.AE,{ssr:!1,query:w,variables:{postId:t,pagingOptions:{limit:10}}},(function(e){var t,o=e.data,l=(o=void 0===o?{}:o).post,a=e.loading,s=e.error,c=e.fetchMore;if(a)return i.createElement(g.T,null);if(s||null==l||!l.voters)return null;var d=l.voters.pagingInfo&&l.voters.pagingInfo.next;if(d){var v={page:d.page};t=function(){return c({variables:{pagingOptions:v},updateQuery:function(e,t){var n,r,o,l,i,a,s=t.fetchMoreResult;return p()({},s,{post:{voters:{items:[].concat(u()(null!==(n=null==e||null===(r=e.post)||void 0===r||null===(o=r.voters)||void 0===o?void 0:o.items)&&void 0!==n?n:[]),u()(null!==(l=null==s||null===(i=s.post)||void 0===i||null===(a=i.voters)||void 0===a?void 0:a.items)&&void 0!==l?l:[]))}}})}})}}return i.createElement(b,{hide:r,fetchMore:t,post:l,isVisible:n})})):null}var w=(0,l.Ps)(h(),m.J,f.sj,f.S$),E=n(23450),y=n.n(E),x=n(1932),O=n(42933),P=n(82318),k=n(98024),I=n(27390),j=n(11642);function V(){var e=o()(["\n  fragment PostVotersNetwork_post on Post {\n    id\n    voterCount\n    recommenders {\n      name\n    }\n  }\n"]);return V=function(){return e},e}var D=function(e){var t,n,r=e.post,o=e.showVoters,l=(0,x.Tf)(r).viewerEdge,a=null!==(t=null===(n=r.recommenders)||void 0===n?void 0:n.map((function(e){return e.name})).filter(j.b))&&void 0!==t?t:[],s=(null!=l&&l.clapCount?["you"]:[]).concat(a).slice(0,2);if(!s.length)return null;var u=(r.voterCount||0)-s.length,c=s.join(u>0?", ":" and "),p="".concat(s.length>1?",":""," and"),d=y()("other",u),v=u>0?"".concat(p," ").concat((0,I.rR)(u)," ").concat(d):"";return i.createElement(O.x,{sm:{display:"none"}},i.createElement(P.r,{onClick:o},i.createElement(k.F,{scale:"S"},"Applause from ".concat(c).concat(v))))},M=(0,l.Ps)(V()),S=n(19464);function _(){var e=o()(["\n  fragment MultiVoteCount_post on Post {\n    id\n    ...PostVotersNetwork_post\n  }\n  ","\n"]);return _=function(){return e},e}function L(e){var t=e.clapCount,n=e.hasLabel,r=void 0!==n&&n,o=e.showFullNumber,l=void 0!==o&&o,s=e.post,u=e.shouldShowNetwork,c=e.hasDialog,p=void 0!==c&&c,d=e.shouldShowResponsiveLabelText,v=void 0!==d&&d,m=e.shouldHideClapsText,f=void 0!==m&&m,g=s.id;if(!(t>0))return null;var h=function(e){var n=e.showVoters;return i.createElement(a.$,{showVoters:n,hasLabel:r,showFullNumber:l,shouldShowResponsiveLabelText:v,shouldHideClapsText:f,label:u&&n?i.createElement(D,{showVoters:n,post:s}):null,clapCount:t})};return p&&g?i.createElement(S.B,null,(function(e){var t=e.isVisible,n=e.show,r=e.hide;return i.createElement(i.Fragment,null,i.createElement(h,{showVoters:n}),i.createElement(C,{isVisible:t,hide:r,postId:g}))})):i.createElement(h,null)}var F=(0,l.Ps)(_(),M)},71542:(e,t,n)=>{"use strict";n.d(t,{s:()=>u,e:()=>c});var r=n(67154),o=n.n(r),l=n(6479),i=n.n(l),a=n(67294),s=n(42933),u=function(e){var t=e.xs,n=e.sm,r=e.children,l=i()(e,["xs","sm","children"]);return a.createElement(s.x,o()({xs:{display:"none"},sm:{display:t?"inline-block":"none"},md:{display:t||n?"inline-block":"none"},lg:{display:"inline-block"},xl:{display:"inline-block"},tag:"span"},l),r)},c=function(e){var t=e.xs,n=e.sm,r=e.children,l=i()(e,["xs","sm","children"]);return a.createElement(s.x,o()({xs:{display:"inline-block"},sm:{display:t?"none":"inline-block"},md:{display:t||n?"none":"inline-block"},lg:{display:"none"},xl:{display:"none"},tag:"span"},l),r)}},33914:(e,t,n)=>{"use strict";n.d(t,{_:()=>c});var r=n(67294),o=n(42933),l=n(52862),i=n(18579),a=n(24438),s=n(6688),u=n(67122);function c(e){var t=e.children,n=e.tooltipText,c=e.isVisible,p=void 0===c||c,d=e.onMouseLeave,v=e.placement,m=void 0===v?"top":v,f=e.maxWidth,g=e.targetDistance,h=(0,s.I)(),b=(0,i.n)({name:"detail",scale:"S",color:"DARKER"});return r.createElement(l.$,{darkTheme:!0,hideOnClick:!0,isVisible:p,noPortal:!0,mouseEnterDelay:500,mouseLeaveDelay:0,placement:m,popoverRenderFn:function(){return r.createElement(o.x,{padding:"8px",maxWidth:f?(0,a.a)(f):void 0,textAlign:"center"},r.createElement("span",{className:h([b,{color:u.ix,whiteSpace:f?void 0:"nowrap"}])},n))},role:"tooltip",targetDistance:g,onMouseLeave:d},t)}},55573:(e,t,n)=>{"use strict";function r(e,t,n){return!!t&&e[t.id]||{clapCount:(null==t?void 0:t.clapCount)||0,viewerClapCount:(null==n?void 0:n.clapCount)||0,viewerHasClappedSinceFetch:!1}}n.d(t,{l:()=>r})}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/4586.57274e03.chunk.js.map